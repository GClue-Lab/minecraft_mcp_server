mineflayerを使ってマインクラフトのMCPサーバを作りたいと考えています
https://github.com/PrismarineJS/mineflayer

mineflayerのAPIは以下に定義されています
https://github.com/PrismarineJS/mineflayer/blob/master/docs/api.md


先行して作られたminecraft-mcp-serverがあります
https://github.com/yuniko-software/minecraft-mcp-server

このmine-craft-mcp-serverをみると、機能が不十分で、通信遮断によるログアウトを検出していないため、再ログインができないという致命的な問題をかかえています。
他にも、ツールの説明には利用可能なオプションについての記述がないため、LLMからMCPを利用する際に誤ったパラメータを与えてエラーを吐くことがあります。

このような問題に対処するために、新規MCPサーバを設計することから始める必要があると考えました。

まずはminecraft MCPサーバを構築する際のファイル/ディレクトリ構成について考えてください
mineflayerのAPIを見ると、非常に沢山の関数があります。
これらをすべて単体でMCPで提供することは考えていません。
MCPとして扱いやすいセットを提供する必要があると考えています。
例えば
プレイヤー名を追従してください
という指示があったときに、追従するとはどういうことか？を考えたうえで、mineflayerのコマンドを呼び出すようなものにしたいのです。
具体的にはmcpでは、地形を理解して、障害物回避やジャンプ移動などを駆使してプレイヤーに近づくことを実現できるようにしたいです。そして、追従というのはループ処理になります。追従をやめるまで追従する、ということになります。
追従中にゾンビと遭遇するかもしれません。戦闘するかしないかも判断することがありそうです。
つまり、つねに状況を理解する能力が最も重要であることがわかります。

そのような点を考慮したうえて、MCPサーバを作成するには、どのようなファイル構成や、分割したほうがいい機能などを精査してから、MCPサーバの設計をしてほしいです。


